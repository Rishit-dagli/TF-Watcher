<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tfwatcher.callbacks package &mdash; TF Watcher 0.1.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="_static/dark_mode_js/default_light.js"></script>
        <script src="_static/dark_mode_js/theme_switcher.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using the Web App" href="webapp.html" />
    <link rel="prev" title="Documentation" href="tfwatcher.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> TF Watcher
            <img src="_static/tf-watcher.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tfwatcher.html">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tfwatcher.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">tfwatcher.callbacks package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tfwatcher.callbacks.epoch">tfwatcher.callbacks.epoch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tfwatcher.callbacks.predict">tfwatcher.callbacks.predict module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tfwatcher.callbacks.predict_batch">tfwatcher.callbacks.predict_batch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tfwatcher.callbacks.test_batch">tfwatcher.callbacks.test_batch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tfwatcher.callbacks.train_batch">tfwatcher.callbacks.train_batch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tfwatcher.callbacks">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tfwatcher.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_config">tfwatcher.firebase_config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers">tfwatcher.firebase_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tfwatcher.html#module-tfwatcher.version">tfwatcher.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tfwatcher.html#module-tfwatcher">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Using the Web App</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF-Watcher-Quickstart.html">Quick Start: TF Watcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TF Watcher</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="tfwatcher.html">Documentation</a> &raquo;</li>
      <li>tfwatcher.callbacks package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tfwatcher.callbacks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="tfwatcher-callbacks-package">
<h1>tfwatcher.callbacks package<a class="headerlink" href="#tfwatcher-callbacks-package" title="Permalink to this headline"></a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-tfwatcher.callbacks.epoch">
<span id="tfwatcher-callbacks-epoch-module"></span><h2>tfwatcher.callbacks.epoch module<a class="headerlink" href="#module-tfwatcher.callbacks.epoch" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tfwatcher.callbacks.epoch.EpochEnd">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tfwatcher.callbacks.epoch.</span></span><span class="sig-name descname"><span class="pre">EpochEnd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/epoch.html#EpochEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.epoch.EpochEnd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">keras.callbacks.Callback</span></code></p>
<p>This class is a subclass of the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback">tf.keras.callbacks.Callback</a>
abstract base class and overrides the methods <a class="reference internal" href="#tfwatcher.callbacks.epoch.EpochEnd.on_epoch_begin" title="tfwatcher.callbacks.epoch.EpochEnd.on_epoch_begin"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_epoch_begin()</span></code></a> and <a class="reference internal" href="#tfwatcher.callbacks.epoch.EpochEnd.on_epoch_end" title="tfwatcher.callbacks.epoch.EpochEnd.on_epoch_end"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_epoch_end()</span></code></a>
allowing logging after epochs in training. This class also uses the
<a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> to send data to Firebase Realtime database and also
creates a 7 character unique string where the data is pushed on Firebase. Logging
to Firebase is also controllable by <code class="docutils literal notranslate"><span class="pre">schedule</span></code> argument, even providing a
granular control for each epoch.</p>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Logging data after every epoch</span><a class="headerlink" href="#id5" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">tfwatcher</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="c1"># here we specify schedule = 1 to log after every epoch</span>
<span class="lineno"> 4 </span><span class="hll"><span class="n">monitor_callback</span> <span class="o">=</span> <span class="n">tfwatcher</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">EpochEnd</span><span class="p">(</span><span class="n">schedule</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="lineno"> 7 </span>    <span class="n">optimizer</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 8 </span>    <span class="n">loss</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 9 </span>    <span class="c1"># metrics which will be logged</span>
<span class="lineno">10 </span>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">],</span>
<span class="lineno">11 </span><span class="p">)</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="hll"><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">monitor_callback</span><span class="p">])</span>
</span></pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schedule</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Use an integer value n to specify logging data every n epochs
the first one being logged by default. Use a list of integers to control
logging with a greater granularity, logs on all epoch numbers specified in
the list taking the first epoch as epoch 1. Using a list will override
loggging on the first epoch by default, defaults to 1</p></li>
<li><p><strong>round_time</strong> (<em>int</em><em>, </em><em>optional</em>) – This argument allows specifying if you want to see the times
on the web-app to be rounded, in most cases you would not be using this, defaults to 2</p></li>
<li><p><strong>print_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) – This argument should only be used when trying to debug if
your logs do not appear in the web-app, if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> this would print
out the dictionary which is being pushed to Firebase, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> is neither an integer or a list.</p></li>
<li><p><strong>Exception</strong> – If all the values in <code class="docutils literal notranslate"><span class="pre">schedule</span></code> list are not convertible
to integer.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.epoch.EpochEnd.on_epoch_begin">
<span class="sig-name descname"><span class="pre">on_epoch_begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/epoch.html#EpochEnd.on_epoch_begin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.epoch.EpochEnd.on_epoch_begin" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_epoch_begin">tf.keras.callbacks.Callback.on_epoch_begin</a>
method which is called at the start of an epoch. This function should only be
called during TRAIN mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epoch</strong> (<em>int</em>) – Index of epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Currently no data is passed to this argument since there are no
logs during the start of an epoch, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.epoch.EpochEnd.on_epoch_end">
<span class="sig-name descname"><span class="pre">on_epoch_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/epoch.html#EpochEnd.on_epoch_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.epoch.EpochEnd.on_epoch_end" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_epoch_end">tf.keras.callbacks.Callback.on_epoch_end</a>
method which is called at the end of an epoch. This function should only be
called during TRAIN mode. This method adds the epoch number, the average time
taken and pushes it to Firebase using the <a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epoch</strong> (<em>int</em>) – Index of epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Metric results for this training epoch, and for the validation
epoch if validation is performed. Validation result keys are prefixed with
<code class="docutils literal notranslate"><span class="pre">val_</span></code>. For training epoch, the values of the Model’s metrics are
returned. Example : <code class="docutils literal notranslate"><span class="pre">{'loss':</span> <span class="pre">0.2,</span> <span class="pre">'accuracy':</span> <span class="pre">0.7}</span></code>, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tfwatcher.callbacks.predict">
<span id="tfwatcher-callbacks-predict-module"></span><h2>tfwatcher.callbacks.predict module<a class="headerlink" href="#module-tfwatcher.callbacks.predict" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tfwatcher.callbacks.predict.PredictEnd">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tfwatcher.callbacks.predict.</span></span><span class="sig-name descname"><span class="pre">PredictEnd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">round_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/predict.html#PredictEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.predict.PredictEnd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">keras.callbacks.Callback</span></code></p>
<p>This class is a subclass of the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback">tf.keras.callbacks.Callback</a>
abstract base class and overrides the methods <a class="reference internal" href="#tfwatcher.callbacks.predict.PredictEnd.on_predict_begin" title="tfwatcher.callbacks.predict.PredictEnd.on_predict_begin"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_predict_begin()</span></code></a> and <a class="reference internal" href="#tfwatcher.callbacks.predict.PredictEnd.on_predict_end" title="tfwatcher.callbacks.predict.PredictEnd.on_predict_end"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_predict_end()</span></code></a>
allowing loging after <code class="docutils literal notranslate"><span class="pre">predict</span></code> method is run. This class also uses the
<a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> module to send data to Firebase Realtime database and also
creates a 7 character unique string where the data is pushed on Firebase.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class does not have the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> parameter like other clases in the
<code class="docutils literal notranslate"><span class="pre">tfwatcher.callbacks</span></code> subpackage since this would notify you once the
prediction is over and there are no batches or epochs to make a schedule for.</p>
</div>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Logging data after predict method</span><a class="headerlink" href="#id6" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">tfwatcher</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="hll"><span class="n">monitor_callback</span> <span class="o">=</span> <span class="n">tfwatcher</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">PredictEnd</span><span class="p">()</span>
</span><span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="lineno"> 6 </span>    <span class="n">optimizer</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 7 </span>    <span class="n">loss</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 8 </span>    <span class="c1"># metrics which will be logged</span>
<span class="lineno"> 9 </span>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">],</span>
<span class="lineno">10 </span><span class="p">)</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span><span class="hll"><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">monitor_callback</span><span class="p">])</span>
</span></pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>round_time</strong> (<em>int</em><em>, </em><em>optional</em>) – This argument allows specifying if you want to see the times
on the web-app to be rounded, in most cases you would not be using this, defaults to 2</p></li>
<li><p><strong>print_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) – This argument should only be used when trying to debug if
your logs do not appear in the web-app, if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> this would print
out the dictionary which is being pushed to Firebase, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> is neither an integer or a list.</p></li>
<li><p><strong>Exception</strong> – If all the values in <code class="docutils literal notranslate"><span class="pre">schedule</span></code> list are not convertible
to integer.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.predict.PredictEnd.on_predict_begin">
<span class="sig-name descname"><span class="pre">on_predict_begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/predict.html#PredictEnd.on_predict_begin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.predict.PredictEnd.on_predict_begin" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_predict_begin">tf.keras.callbacks.Callback.on_predict_begin</a>
method which is called at the start of prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Currently no data is passed to this argument since there are no
logs during the start of an epoch, defaults to None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.predict.PredictEnd.on_predict_end">
<span class="sig-name descname"><span class="pre">on_predict_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/predict.html#PredictEnd.on_predict_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.predict.PredictEnd.on_predict_end" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_predict_end">tf.keras.callbacks.Callback.on_predict_end</a>
method which is called at the end of prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Currently no data is passed to this argument since there are no
logs during the start of an epoch, defaults to None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tfwatcher.callbacks.predict_batch">
<span id="tfwatcher-callbacks-predict-batch-module"></span><h2>tfwatcher.callbacks.predict_batch module<a class="headerlink" href="#module-tfwatcher.callbacks.predict_batch" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tfwatcher.callbacks.predict_batch.PredictBatchEnd">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tfwatcher.callbacks.predict_batch.</span></span><span class="sig-name descname"><span class="pre">PredictBatchEnd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/predict_batch.html#PredictBatchEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.predict_batch.PredictBatchEnd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">keras.callbacks.Callback</span></code></p>
<p>This class is a subclass of the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback">tf.keras.callbacks.Callback</a>
abstract base class and overrides the methods <a class="reference internal" href="#tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_begin" title="tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_begin"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_predict_batch_begin()</span></code></a> and <a class="reference internal" href="#tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_end" title="tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_end"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_predict_batch_end()</span></code></a>
allowing loging after batches in <code class="docutils literal notranslate"><span class="pre">predict</span></code> method. This class also uses the
<a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> to send data to Firebase Realtime database and also
creates a 7 character unique string where the data is pushed on Firebase. Logging
to Firebase is also controllable by <code class="docutils literal notranslate"><span class="pre">schedule</span></code> argument, even providing a
granular control for each batch in <code class="docutils literal notranslate"><span class="pre">predict</span></code> methods.</p>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Logging data after every batch in predict methods</span><a class="headerlink" href="#id7" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">tfwatcher</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="c1"># here we specify schedule = 1 to log after every batch</span>
<span class="lineno"> 4 </span><span class="hll"><span class="n">monitor_callback</span> <span class="o">=</span> <span class="n">tfwatcher</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">PredictBatchEnd</span><span class="p">(</span><span class="n">schedule</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="lineno"> 7 </span>    <span class="n">optimizer</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 8 </span>    <span class="n">loss</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 9 </span>    <span class="c1"># metrics which will be logged</span>
<span class="lineno">10 </span>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">],</span>
<span class="lineno">11 </span><span class="p">)</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="hll"><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">monitor_callback</span><span class="p">])</span>
</span></pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">steps_per_execution</span></code> argument to compile in <code class="docutils literal notranslate"><span class="pre">tf.keras.Model</span></code> is set
to N, the logging code will only be called every N batches.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schedule</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Use an integer value n to specify logging data every n batches
the first one being logged by default. Use a list of integers to control
logging with a greater granularity, logs on all batch numbers specified in
the list taking the first batch as batch 1. Using a list will override
loggging on the first batch by default, defaults to 1</p></li>
<li><p><strong>round_time</strong> (<em>int</em><em>, </em><em>optional</em>) – This argument allows specifying if you want to see the times
on the web-app to be rounded, in most cases you would not be using this, defaults to 2</p></li>
<li><p><strong>print_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) – This argument should only be used when trying to debug if
your logs do not appear in the web-app, if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> this would print
out the dictionary which is being pushed to Firebase, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> is neither an integer or a list.</p></li>
<li><p><strong>Exception</strong> – If all the values in <code class="docutils literal notranslate"><span class="pre">schedule</span></code> list are not convertible
to integer.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_begin">
<span class="sig-name descname"><span class="pre">on_predict_batch_begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/predict_batch.html#PredictBatchEnd.on_predict_batch_begin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_begin" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_predict_batch_begin">tf.keras.callbacks.Callback.on_predict_batch_begin</a>
method which is called called at the beginning of a batch in predict methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> (<em>int</em>) – Index of batch within the current epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – contains the return value of <code class="docutils literal notranslate"><span class="pre">model.predict_step</span></code>, it typically
returns a dict with a key ‘outputs’ containing the model’s outputs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_end">
<span class="sig-name descname"><span class="pre">on_predict_batch_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/predict_batch.html#PredictBatchEnd.on_predict_batch_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.predict_batch.PredictBatchEnd.on_predict_batch_end" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_predict_batch_end">tf.keras.callbacks.Callback.on_predict_batch_end</a>
method which is called called at the end of a batch in predict methods. This
method adds the batch number, the average time taken and pushes it to Firebase
using the <a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epoch</strong> (<em>int</em>) – Index of batch within the current epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Aggregated metric results up until this batch, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tfwatcher.callbacks.test_batch">
<span id="tfwatcher-callbacks-test-batch-module"></span><h2>tfwatcher.callbacks.test_batch module<a class="headerlink" href="#module-tfwatcher.callbacks.test_batch" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tfwatcher.callbacks.test_batch.TestBatchEnd">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tfwatcher.callbacks.test_batch.</span></span><span class="sig-name descname"><span class="pre">TestBatchEnd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/test_batch.html#TestBatchEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.test_batch.TestBatchEnd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">keras.callbacks.Callback</span></code></p>
<p>This class is a subclass of the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback">tf.keras.callbacks.Callback</a>
abstract base class and overrides the methods <a class="reference internal" href="#tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_begin" title="tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_begin"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_test_batch_begin()</span></code></a> and <a class="reference internal" href="#tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_end" title="tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_end"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_test_batch_end()</span></code></a>
allowing loging after batches in <code class="docutils literal notranslate"><span class="pre">evaluate</span></code> methods and at the beginning of a
validation batch in the fit methods, if validation data is provided. This class
also uses the <a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> to send data to Firebase Realtime database
and also creates a 7 character unique string where the data is pushed on Firebase.
Logging to Firebase is also controllable by <code class="docutils literal notranslate"><span class="pre">schedule</span></code> argument, even providing a
granular control for each batch in <code class="docutils literal notranslate"><span class="pre">evaluate</span></code> methods.</p>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Logging data after every batch in evaluate methods</span><a class="headerlink" href="#id8" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">tfwatcher</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="c1"># here we specify schedule = 1 to log after every batch</span>
<span class="lineno"> 4 </span><span class="hll"><span class="n">monitor_callback</span> <span class="o">=</span> <span class="n">tfwatcher</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">TestBatchEnd</span><span class="p">(</span><span class="n">schedule</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="lineno"> 7 </span>    <span class="n">optimizer</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 8 </span>    <span class="n">loss</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 9 </span>    <span class="c1"># metrics which will be logged</span>
<span class="lineno">10 </span>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">],</span>
<span class="lineno">11 </span><span class="p">)</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="hll"><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">monitor_callback</span><span class="p">])</span>
</span></pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">steps_per_execution</span></code> argument to compile in <code class="docutils literal notranslate"><span class="pre">tf.keras.Model</span></code> is set
to N, the logging code will only be called every N batches.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schedule</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Use an integer value n to specify logging data every n batches
the first one being logged by default. Use a list of integers to control
logging with a greater granularity, logs on all batch numbers specified in
the list taking the first batch as batch 1. Using a list will override
loggging on the first batch by default, defaults to 1</p></li>
<li><p><strong>round_time</strong> (<em>int</em><em>, </em><em>optional</em>) – This argument allows specifying if you want to see the times
on the web-app to be rounded, in most cases you would not be using this, defaults to 2</p></li>
<li><p><strong>print_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) – This argument should only be used when trying to debug if
your logs do not appear in the web-app, if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> this would print
out the dictionary which is being pushed to Firebase, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> is neither an integer or a list.</p></li>
<li><p><strong>Exception</strong> – If all the values in <code class="docutils literal notranslate"><span class="pre">schedule</span></code> list are not convertible
to integer.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_begin">
<span class="sig-name descname"><span class="pre">on_test_batch_begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/test_batch.html#TestBatchEnd.on_test_batch_begin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_begin" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_test_batch_begin">tf.keras.callbacks.Callback.on_test_batch_begin</a>
method which is called called at the beginning of a batch in evaluate methods
and at the beginning of a validation batch in the fit methods, if validation
data is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> (<em>int</em>) – Index of batch within the current epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – contains the return value of <code class="docutils literal notranslate"><span class="pre">model.test_step</span></code>. Typically, the
values of the Model’s metrics are returned.
Example: <code class="docutils literal notranslate"><span class="pre">{'loss':</span> <span class="pre">0.2,</span> <span class="pre">'accuracy':</span> <span class="pre">0.7}</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_end">
<span class="sig-name descname"><span class="pre">on_test_batch_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/test_batch.html#TestBatchEnd.on_test_batch_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.test_batch.TestBatchEnd.on_test_batch_end" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_test_batch_end">tf.keras.callbacks.Callback.on_test_batch_end</a>
method which is called called at the end of a batch in evaluate
methods and at the beginning of a validation batch in the fit methods, if
validation data is provided. This method adds the batch number, the average
time taken and pushes it to Firebase using the <a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epoch</strong> (<em>int</em>) – Index of batch within the current epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Aggregated metric results up until this batch, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tfwatcher.callbacks.train_batch">
<span id="tfwatcher-callbacks-train-batch-module"></span><h2>tfwatcher.callbacks.train_batch module<a class="headerlink" href="#module-tfwatcher.callbacks.train_batch" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tfwatcher.callbacks.train_batch.TrainBatchEnd">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tfwatcher.callbacks.train_batch.</span></span><span class="sig-name descname"><span class="pre">TrainBatchEnd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/train_batch.html#TrainBatchEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.train_batch.TrainBatchEnd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">keras.callbacks.Callback</span></code></p>
<p>This class is a subclass of the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback">tf.keras.callbacks.Callback</a>
abstract base class and overrides the methods <a class="reference internal" href="#tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_begin" title="tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_begin"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_train_batch_begin()</span></code></a> and <a class="reference internal" href="#tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_end" title="tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_end"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_train_batch_end()</span></code></a>
allowing loging after a training batch in fit methods. This class
also uses the <a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> to send data to Firebase Realtime database
and also creates a 7 character unique string where the data is pushed on Firebase.
Logging to Firebase is also controllable by <code class="docutils literal notranslate"><span class="pre">schedule</span></code> argument, even providing a
granular control for each batch in fit methods.</p>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Logging data after every batch in fit methods</span><a class="headerlink" href="#id9" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">tfwatcher</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="c1"># here we specify schedule = 1 to log after every batch</span>
<span class="lineno"> 4 </span><span class="hll"><span class="n">monitor_callback</span> <span class="o">=</span> <span class="n">tfwatcher</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">TrainBatchEnd</span><span class="p">(</span><span class="n">schedule</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="lineno"> 7 </span>    <span class="n">optimizer</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 8 </span>    <span class="n">loss</span><span class="o">=...</span><span class="p">,</span>
<span class="lineno"> 9 </span>    <span class="c1"># metrics which will be logged</span>
<span class="lineno">10 </span>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">],</span>
<span class="lineno">11 </span><span class="p">)</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="hll"><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">monitor_callback</span><span class="p">])</span>
</span></pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">steps_per_execution</span></code> argument to compile in <code class="docutils literal notranslate"><span class="pre">tf.keras.Model</span></code> is set
to N, the logging code will only be called every N batches.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schedule</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Use an integer value n to specify logging data every n batches
the first one being logged by default. Use a list of integers to control
logging with a greater granularity, logs on all batch numbers specified in
the list taking the first batch as batch 1. Using a list will override
loggging on the first batch by default, defaults to 1</p></li>
<li><p><strong>round_time</strong> (<em>int</em><em>, </em><em>optional</em>) – This argument allows specifying if you want to see the times
on the web-app to be rounded, in most cases you would not be using this, defaults to 2</p></li>
<li><p><strong>print_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) – This argument should only be used when trying to debug if
your logs do not appear in the web-app, if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> this would print
out the dictionary which is being pushed to Firebase, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">schedule</span></code> is neither an integer or a list.</p></li>
<li><p><strong>Exception</strong> – If all the values in <code class="docutils literal notranslate"><span class="pre">schedule</span></code> list are not convertible
to integer.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_begin">
<span class="sig-name descname"><span class="pre">on_train_batch_begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/train_batch.html#TrainBatchEnd.on_train_batch_begin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_begin" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_train_batch_begin">tf.keras.callbacks.Callback.on_train_batch_begin</a>
method which is called called at the beginning of a training batch in fit methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch</strong> (<em>int</em>) – Index of batch within the current epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Contains the return value of model.train_step. Typically, the
values of the Model’s metrics are returned.
Example: <code class="docutils literal notranslate"><span class="pre">{'loss':</span> <span class="pre">0.2,</span> <span class="pre">'accuracy':</span> <span class="pre">0.7}</span></code>, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_end">
<span class="sig-name descname"><span class="pre">on_train_batch_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tfwatcher/callbacks/train_batch.html#TrainBatchEnd.on_train_batch_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tfwatcher.callbacks.train_batch.TrainBatchEnd.on_train_batch_end" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the <a class="reference external" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback#on_train_batch_end">tf.keras.callbacks.Callback.on_train_batch_end</a>
method which is called called at the end of a batch in of a training batch in
fit methods. This method adds the batch number, the average time taken and
pushes it to Firebase using the <a class="reference internal" href="tfwatcher.html#module-tfwatcher.firebase_helpers" title="tfwatcher.firebase_helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">firebase_helpers</span></code></a> module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epoch</strong> (<em>int</em>) – Index of batch within the current epoch</p></li>
<li><p><strong>logs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Aggregated metric results up until this batch, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tfwatcher.callbacks">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tfwatcher.callbacks" title="Permalink to this headline"></a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tfwatcher.html" class="btn btn-neutral float-left" title="Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="webapp.html" class="btn btn-neutral float-right" title="Using the Web App" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Rishit Dagli.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>